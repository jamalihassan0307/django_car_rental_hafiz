{% extends 'myapp/base.html' %}
{% load static %}

{% block title %}Profile - Car Rental Service{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block content %}
<section class="profile-section">
    <div class="container">
        <div class="profile-grid">
            <!-- Profile Sidebar -->
            <div class="profile-sidebar" data-aos="fade-right">
                <div class="profile-image-container">
                    {% if user.userprofile.profile_image %}
                        <img src="{{ user.userprofile.profile_image.url }}" alt="Profile" class="profile-image">
                    {% else %}
                        <i class="fas fa-user-circle profile-image-icon"></i>
                    {% endif %}
                </div>

                <div class="profile-info">
                    <h2>{{ user.get_full_name|default:user.username }}</h2>
                    <p>{{ user.email }}</p>
                </div>

                <div class="profile-stats">
                    <div class="stat-item">
                        <h3>{{ user.userprofile.role|title }}</h3>
                        <p>Role</p>
                    </div>
                    <div class="stat-item">
                        <h3>{{ user.date_joined|date:"M Y" }}</h3>
                        <p>Member Since</p>
                    </div>
                </div>

                <div class="profile-actions">
                    <a href="{% url 'edit_profile' %}" class="btn">
                        <i class="fas fa-user-edit"></i> Edit Profile
                    </a>
                </div>
            </div>

            <!-- Profile Content -->
            <div class="profile-content" data-aos="fade-left">
                <h3>Personal Information</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <strong>Full Name</strong>
                        <p>{{ user.get_full_name|default:"Not provided" }}</p>
                    </div>
                    <div class="info-item">
                        <strong>Username</strong>
                        <p>{{ user.username }}</p>
                    </div>
                    <div class="info-item">
                        <strong>Email Address</strong>
                        <p>{{ user.email|default:"Not provided" }}</p>
                    </div>
                    <div class="info-item">
                        <strong>Phone Number</strong>
                        <p>{{ user.userprofile.phone_number|default:"Not provided" }}</p>
                    </div>
                    <div class="info-item">
                        <strong>Address</strong>
                        <p>{{ user.userprofile.address|default:"Not provided" }}</p>
                    </div>
                    <div class="info-item">
                        <strong>Member Since</strong>
                        <p>{{ user.date_joined|date:"F d, Y" }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %} 